<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weather & Precautions</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-r from-blue-100 to-green-100 flex justify-center items-center min-h-screen">

  <video autoplay muted loop playsinline id="bg-video" class="absolute inset-0 w-full h-full object-cover -z-10">
    <source src="images/weather.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>

  <div class="w-full max-w-6xl p-4">
    <div class="flex justify-center mb-6 gap-3">
        <button onclick="changeLanguage('en')" class="px-4 py-2 bg-white text-blue-600 font-semibold rounded-lg shadow-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75">English</button>
        <button onclick="changeLanguage('hi')" class="px-4 py-2 bg-white text-green-600 font-semibold rounded-lg shadow-md hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-opacity-75">рд╣рд┐рдиреНрджреА</button>
        <button onclick="changeLanguage('or')" class="px-4 py-2 bg-white text-orange-600 font-semibold rounded-lg shadow-md hover:bg-orange-100 focus:outline-none focus:ring-2 focus:ring-orange-400 focus:ring-opacity-75">рмУрмбрм╝рм┐рмЖ</button>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

    <div class="bg-blue-400 rounded-2xl shadow-xl p-6 border border-green-200 text-center">
      <h2 id="season-title" class="text-2xl font-bold text-green-700 mb-4"></h2>
      <div id="season" class="text-lg font-semibold text-green-600 bg-green-50 p-3 rounded-lg shadow-sm">
      </div>
    </div>

    <div class="bg-blue-400 rounded-2xl shadow-xl p-6 border border-blue-200 text-center">
      <h2 id="weather-title" class="text-2xl font-bold text-blue-700 mb-4"></h2>
      <div id="weather" class="text-lg text-gray-800"></div>
    </div>

    <div class="bg-blue-400 rounded-2xl shadow-xl p-6 border border-orange-200">
      <h2 id="seasonal-prec-title" class="text-2xl font-bold text-orange-700 mb-4"></h2>
      <div id="season-list" class="flex flex-wrap gap-2"></div>
    </div>

    <div class="bg-blue-400 rounded-2xl shadow-xl p-6 border border-cyan-200">
      <h2 id="weather-prec-title" class="text-2xl font-bold text-cyan-700 mb-4"></h2>
      <div id="weather-list" class="flex flex-wrap gap-2"></div>
    </div>
  </div>
</div>


  
  <script>
    const API_KEY = "0b281b58022487f3cde93eb1cdb716d8"; // ЁЯФС Replace with your OpenWeatherMap API key
    const CITY = "Bhubaneswar"; 
    let currentLanguage = 'en'; // Default language

    const translations = {
      en: {
        currentSeason: 'ЁЯНВ Current Season',
        currentWeather: 'ЁЯМжя╕П Current Weather',
        seasonalPrecautions: 'ЁЯНК Seasonal Precautions',
        weatherPrecautions: 'ЁЯЫбя╕П Weather Precautions',
        detectingSeason: 'Detecting season...',
        fetchingWeather: 'Fetching weather...',
        errorFetching: 'тЪая╕П Error fetching weather.',
        city: 'City:',
        temperature: 'Temperature:',
        condition: 'Condition:',
        spring: 'ЁЯМ╕ Spring',
        monsoon: 'ЁЯМзя╕П Monsoon',
        autumn: 'ЁЯНБ Autumn',
        winter: 'тЭДя╕П Winter',
        tempHigh: 'ЁЯТз Drink plenty of water, stay indoors during peak heat.',
        tempLow: 'ЁЯзг Wear warm clothes and avoid cold winds.',
        tempModerate: 'ЁЯЩВ Weather is moderate, stay hydrated and active.',
        rain: 'ЁЯМВ Carry an umbrella, wear waterproof shoes.',
        clear: 'ЁЯХ╢я╕П Apply sunscreen and wear sunglasses.',
        snow: 'ЁЯе╛ Wear boots, walk carefully on slippery roads.',
        haze: 'ЁЯШ╖ Wear a mask to protect from air pollution.',
        spring1: 'ЁЯдз Allergy chances are high, wear masks if pollen-sensitive.',
        spring2: 'ЁЯеЧ Maintain a balanced diet to boost immunity.',
        monsoon1: 'ЁЯжЯ Use mosquito repellents, avoid street food.',
        monsoon2: 'тШФ Keep rain gear handy and watch out for waterlogging.',
        autumn1: 'ЁЯзе Weather is pleasant but evenings may be chilly.',
        autumn2: 'ЁЯН╡ Keep light warm clothes and drink warm fluids.',
        winter1: 'ЁЯН▓ Eat immunity-boosting foods, keep yourself warm.',
        winter2: 'ЁЯТз Stay hydrated even if you donтАЩt feel thirsty.',
      },
      hi: {
        currentSeason: 'ЁЯНВ рд╡рд░реНрддрдорд╛рди рдЛрддреБ',
        currentWeather: 'ЁЯМжя╕П рд╡рд░реНрддрдорд╛рди рдореМрд╕рдо',
        seasonalPrecautions: 'ЁЯНК рдореМрд╕рдореА рд╕рд╛рд╡рдзрд╛рдирд┐рдпрд╛рдВ',
        weatherPrecautions: 'ЁЯЫбя╕П рдореМрд╕рдо рд╕рдВрдмрдВрдзреА рд╕рд╛рд╡рдзрд╛рдирд┐рдпрд╛рдВ',
        detectingSeason: 'рдЛрддреБ рдХрд╛ рдкрддрд╛ рдЪрд▓ рд░рд╣рд╛ рд╣реИ...',
        fetchingWeather: 'рдореМрд╕рдо рдХреА рдЬрд╛рдирдХрд╛рд░реА рдорд┐рд▓ рд░рд╣реА рд╣реИ...',
        errorFetching: 'тЪая╕П рдореМрд╕рдо рдХреА рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдореЗрдВ рддреНрд░реБрдЯрд┐ред',
        city: 'рд╢рд╣рд░:',
        temperature: 'рддрд╛рдкрдорд╛рди:',
        condition: 'рд╕реНрдерд┐рддрд┐:',
        spring: 'ЁЯМ╕ рд╡рд╕рдВрдд',
        monsoon: 'ЁЯМзя╕П рдорд╛рдирд╕реВрди',
        autumn: 'ЁЯНБ рд╢рд░рдж',
        winter: 'тЭДя╕П рд╕рд░реНрджреА',
        tempHigh: 'ЁЯТз рдЦреВрдм рдкрд╛рдиреА рдкрд┐рдПрдВ, рддреЗрдЬ рдЧрд░реНрдореА рдХреЗ рджреМрд░рд╛рди рдШрд░ рдХреЗ рдЕрдВрджрд░ рд░рд╣реЗрдВред',
        tempLow: 'ЁЯзг рдЧрд░реНрдо рдХрдкрдбрд╝реЗ рдкрд╣рдиреЗрдВ рдФрд░ рдардВрдбреА рд╣рд╡рд╛рдУрдВ рд╕реЗ рдмрдЪреЗрдВред',
        tempModerate: 'ЁЯЩВ рдореМрд╕рдо рд╕рд╛рдорд╛рдиреНрдп рд╣реИ, рд╣рд╛рдЗрдбреНрд░реЗрдЯреЗрдб рдФрд░ рд╕рдХреНрд░рд┐рдп рд░рд╣реЗрдВред',
        rain: 'ЁЯМВ рдЫрд╛рддрд╛ рд▓реЗрдХрд░ рдЪрд▓реЗрдВ, рд╡рд╛рдЯрд░рдкреНрд░реВрдл рдЬреВрддреЗ рдкрд╣рдиреЗрдВред',
        clear: 'ЁЯХ╢я╕П рд╕рдирд╕реНрдХреНрд░реАрди рд▓рдЧрд╛рдПрдВ рдФрд░ рдзреВрдк рдХрд╛ рдЪрд╢реНрдорд╛ рдкрд╣рдиреЗрдВред',
        snow: 'ЁЯе╛ рдмреВрдЯ рдкрд╣рдиреЗрдВ, рдлрд┐рд╕рд▓рди рд╡рд╛рд▓реА рд╕рдбрд╝рдХреЛрдВ рдкрд░ рд╕рд╛рд╡рдзрд╛рдиреА рд╕реЗ рдЪрд▓реЗрдВред',
        haze: 'ЁЯШ╖ рд╡рд╛рдпреБ рдкреНрд░рджреВрд╖рдг рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдорд╛рд╕реНрдХ рдкрд╣рдиреЗрдВред',
        spring1: 'ЁЯдз рдПрд▓рд░реНрдЬреА рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдЕрдзрд┐рдХ рд╣реИ, рдкрд░рд╛рдЧ-рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рд╣реЛрдиреЗ рдкрд░ рдорд╛рд╕реНрдХ рдкрд╣рдиреЗрдВред',
        spring2: 'ЁЯеЧ рд░реЛрдЧ рдкреНрд░рддрд┐рд░реЛрдзрдХ рдХреНрд╖рдорддрд╛ рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдВрддреБрд▓рд┐рдд рдЖрд╣рд╛рд░ рдмрдирд╛рдП рд░рдЦреЗрдВред',
        monsoon1: 'ЁЯжЯ рдордЪреНрдЫрд░ рднрдЧрд╛рдиреЗ рд╡рд╛рд▓реА рджрд╡рд╛рдУрдВ рдХрд╛ рдкреНрд░рдпреЛрдЧ рдХрд░реЗрдВ, рдмрд╛рд╣рд░ рдХреЗ рдЦрд╛рдиреЗ рд╕реЗ рдмрдЪреЗрдВред',
        monsoon2: 'тШФ рд░реЗрди рдЧрд┐рдпрд░ рд╕рдВрднрд╛рд▓ рдХрд░ рд░рдЦреЗрдВ рдФрд░ рдЬрд▓рднрд░рд╛рд╡ рд╕реЗ рд╕рд╛рд╡рдзрд╛рди рд░рд╣реЗрдВред',
        autumn1: 'ЁЯзе рдореМрд╕рдо рд╕реБрд╣рд╛рд╡рдирд╛ рд╣реИ рд▓реЗрдХрд┐рди рд╢рд╛рдо рдардВрдбреА рд╣реЛ рд╕рдХрддреА рд╣реИред',
        autumn2: 'ЁЯН╡ рд╣рд▓реНрдХреЗ рдЧрд░реНрдо рдХрдкрдбрд╝реЗ рд░рдЦреЗрдВ рдФрд░ рдЧрд░реНрдо рддрд░рд▓ рдкрджрд╛рд░реНрде рдкрд┐рдПрдВред',
        winter1: 'ЁЯН▓ рд░реЛрдЧ рдкреНрд░рддрд┐рд░реЛрдзрдХ рдХреНрд╖рдорддрд╛ рдмрдврд╝рд╛рдиреЗ рд╡рд╛рд▓реЗ рдЦрд╛рджреНрдп рдкрджрд╛рд░реНрде рдЦрд╛рдПрдВ, рдЦреБрдж рдХреЛ рдЧрд░реНрдо рд░рдЦреЗрдВред',
        winter2: 'ЁЯТз рдкреНрдпрд╛рд╕ рди рд▓рдЧрдиреЗ рдкрд░ рднреА рд╣рд╛рдЗрдбреНрд░реЗрдЯреЗрдб рд░рд╣реЗрдВред',
      },
      or: {
        currentSeason: 'ЁЯНВ рммрм░рнНрмдрнНрмдрморм╛рми рмЛрмдрнБ',
        currentWeather: 'ЁЯМжя╕П рммрм░рнНрмдрнНрмдрморм╛рми рмкрм╛рмгрм┐рмкрм╛рмЧ',
        seasonalPrecautions: 'ЁЯНК рмЛрмдрнБрмХрм╛рм│рнАрми рм╕рмдрм░рнНрмХрмдрм╛',
        weatherPrecautions: 'ЁЯЫбя╕П рмкрм╛рмгрм┐рмкрм╛рмЧ рм╕рмдрм░рнНрмХрмдрм╛',
        detectingSeason: 'рмЛрмдрнБ рмЪрм┐рм╣рнНрмирмЯ рмХрм░рм╛рмпрм╛рмЙрмЫрм┐...',
        fetchingWeather: 'рмкрм╛рмгрм┐рмкрм╛рмЧ рмЕрмгрм╛рмпрм╛рмЙрмЫрм┐...',
        errorFetching: 'тЪая╕П рмкрм╛рмгрм┐рмкрм╛рмЧ рмЖрмгрм┐рммрм╛рм░рнЗ рмдрнНрм░рнБрмЯрм┐ред',
        city: 'рм╕рм╣рм░:',
        temperature: 'рмдрм╛рмкрморм╛рмдрнНрм░рм╛:',
        condition: 'рм╕рнНрмерм┐рмдрм┐:',
        spring: 'ЁЯМ╕ рммрм╕рмирнНрмд',
        monsoon: 'ЁЯМзя╕П рморнМрм╕рнБрморнА',
        autumn: 'ЁЯНБ рм╢рм░рмд',
        winter: 'тЭДя╕П рм╢рнАрмд',
        tempHigh: 'ЁЯТз рмкрнНрм░рмЪрнБрм░ рмкрм╛рмгрм┐ рмкрм┐рмЕрмирнНрмдрнБ, рмЕрмдрнНрнЯрмзрм┐рмХ рмЧрм░рмо рм╕рморнЯрм░рнЗ рмШрм░рнЗ рм░рнБрм╣рмирнНрмдрнБред',
        tempLow: 'ЁЯзг рмЧрм░рмо рмкрнЛрм╖рм╛рмХ рмкрм┐рмирнНрмзрмирнНрмдрнБ рмПрммрмВ рмермгрнНрмбрм╛ рмкрммрмирм░рнБ рмжрнВрм░рнЗрмЗ рм░рнБрм╣рмирнНрмдрнБред',
        tempModerate: 'ЁЯЩВ рмкрм╛рмЧ рмормзрнНрнЯрмо рмЕрмЯрнЗ, рм╣рм╛рмЗрмбрнНрм░рнЗрмЯрнЗрмбрнН рмПрммрмВ рм╕рмХрнНрм░рм┐рнЯ рм░рнБрм╣рмирнНрмдрнБред',
        rain: 'ЁЯМВ рмЫрмдрм╛ рмирм┐рмЕрмирнНрмдрнБ, рмЬрм│рм░рнЛрмзрнА рмЬрнЛрмдрм╛ рмкрм┐рмирнНрмзрмирнНрмдрнБред',
        clear: 'ЁЯХ╢я╕П рм╕рмирм╕рнНрмХрнНрм░рм┐рмирнН рм▓рмЧрм╛рмирнНрмдрнБ рмПрммрмВ рм╕рмирмЧрнНрм▓рм╛рм╕рнН рмкрм┐рмирнНрмзрмирнНрмдрнБред',
        snow: 'ЁЯе╛ рммрнБрмЯрнН рмкрм┐рмирнНрмзрмирнНрмдрнБ, рмЪрм┐рмХрнНрмХрмг рм░рм╛рм╕рнНрмдрм╛рм░рнЗ рм╕рм╛рммрмзрм╛рмирмдрм╛рм░ рм╕рм╣рм┐рмд рмЪрм╛рм▓рмирнНрмдрнБред',
        haze: 'ЁЯШ╖ рммрм╛рнЯрнБ рмкрнНрм░рмжрнВрм╖рмгрм░рнБ рм░рмХрнНрм╖рм╛ рмкрм╛рмЗрммрм╛ рмкрм╛рмЗрмБ рморм╛рм╕рнНрмХ рмкрм┐рмирнНрмзрмирнНрмдрнБред',
        spring1: 'ЁЯдз рмЖрм▓рм░рнНрмЬрм┐ рм╣рнЗрммрм╛рм░ рм╕рморнНрмнрм╛рммрмирм╛ рмЕрмзрм┐рмХ, рмкрм░рм╛рмЧ рм╕рморнНрммрнЗрмжрмирм╢рнАрм│ рм╣рнЗрм▓рнЗ рморм╛рм╕рнНрмХ рмкрм┐рмирнНрмзрмирнНрмдрнБред',
        spring2: 'ЁЯеЧ рм░рнЛрмЧ рмкрнНрм░рмдрм┐рм░рнЛрмзрмХ рм╢рмХрнНрмдрм┐ рммрмврм╛рмЗрммрм╛ рмкрм╛рмЗрмБ рм╕рмирнНрмдрнБрм│рм┐рмд рмЦрм╛рмжрнНрнЯ рмЦрм╛рмЖрмирнНрмдрнБред',
        monsoon1: 'ЁЯжЯ рморм╢рм╛ рмШрмЙрмбрм╛рмЗрммрм╛ рмкрм╛рмЗрмБ рмдрнЗрм▓ рммрнНрнЯрммрм╣рм╛рм░ рмХрм░рмирнНрмдрнБ, рм░рм╛рм╕рнНрмдрм╛ рмХрмбрм╝ рмЦрм╛рмжрнНрнЯрм░рнБ рмжрнВрм░рнЗрмЗ рм░рнБрм╣рмирнНрмдрнБред',
        monsoon2: 'тШФ рммрм░рнНрм╖рм╛ рмкрм╛рмЗрмБ рмкрнНрм░рм╕рнНрмдрнБрмд рм░рнБрм╣рмирнНрмдрнБ рмПрммрмВ рмЬрм│рммрмирнНрмжрнАрм░рнБ рм╕рм╛рммрмзрм╛рми рм░рнБрм╣рмирнНрмдрнБред',
        autumn1: 'ЁЯзе рмкрм╛рмЧ рм╕рнБрмЦрмж рмХрм┐рмирнНрмдрнБ рм╕рмирнНрмзрнНрнЯрм╛ рмермгрнНрмбрм╛ рм╣рнЛрмЗрмкрм╛рм░рнЗред',
        autumn2: 'ЁЯН╡ рм╣рм╛рм▓рнБрмХрм╛ рмЧрм░рмо рмкрнЛрм╖рм╛рмХ рм░рмЦрмирнНрмдрнБ рмПрммрмВ рмЧрм░рмо рмдрм░рм│ рмкрмжрм╛рм░рнНрме рмкрм┐рмЕрмирнНрмдрнБред',
        winter1: 'ЁЯН▓ рм░рнЛрмЧ рмкрнНрм░рмдрм┐рм░рнЛрмзрмХ рм╢рмХрнНрмдрм┐ рммрмврм╛рмЙрмерм┐рммрм╛ рмЦрм╛рмжрнНрнЯ рмЦрм╛рмЖрмирнНрмдрнБ, рмирм┐рмЬрмХрнБ рмЧрм░рмо рм░рмЦрмирнНрмдрнБред',
        winter2: 'ЁЯТз рм╢рнЛрм╖ рми рм▓рм╛рмЧрм┐рм▓рнЗ рмормзрнНрнЯ рм╣рм╛рмЗрмбрнНрм░рнЗрмЯрнЗрмбрнН рм░рнБрм╣рмирнНрмдрнБред',
      }
    };

    function changeLanguage(lang) {
      currentLanguage = lang;
      // Update all static text content
      document.getElementById('season-title').innerText = translations[lang].currentSeason;
      document.getElementById('weather-title').innerText = translations[lang].currentWeather;
      document.getElementById('seasonal-prec-title').innerText = translations[lang].seasonalPrecautions;
      document.getElementById('weather-prec-title').innerText = translations[lang].weatherPrecautions;
      
      // Re-fetch weather to update dynamic content with the new language
      fetchWeather();
    }

    async function fetchWeather() {
      const weatherDiv = document.getElementById("weather");
      const lang = currentLanguage;
      weatherDiv.innerHTML = `<p>${translations[lang].fetchingWeather}</p>`;
      document.getElementById("season").innerText = translations[lang].detectingSeason;

      try {
        const url = `https://api.openweathermap.org/data/2.5/weather?q=${CITY}&appid=${API_KEY}&units=metric`;
        const res = await fetch(url);
        if (!res.ok) throw new Error("Network response not ok");

        const data = await res.json();
        
        weatherDiv.innerHTML = `
          <p class="text-lg"><b>${translations[lang].city}</b> ${data.name}</p>
          <p class="text-lg"><b>${translations[lang].temperature}</b> ${data.main.temp.toFixed(1)}┬░C</p>
          <p class="text-lg"><b>${translations[lang].condition}</b> ${data.weather[0].description}</p>
        `;

        showPrecautions(data);

      } catch (error) {
        weatherDiv.innerHTML = `<p class="text-red-500">${translations[lang].errorFetching}</p>`;
        console.error(error);
      }
    }

    function showPrecautions(data) {
      const lang = currentLanguage;
      const t = translations[lang]; // Shortcut to current language translations
      const temp = data.main.temp;
      const condition = data.weather[0].main.toLowerCase();
      const month = new Date().getMonth() + 1;

      let weatherPrecKeys = [];
      let seasonPrecKeys = [];
      let seasonNameKey = "";

      // ЁЯМбя╕П Weather-based precaution keys
      if (temp > 35) weatherPrecKeys.push("tempHigh");
      else if (temp < 10) weatherPrecKeys.push("tempLow");
      else weatherPrecKeys.push("tempModerate");

      if (condition.includes("rain")) weatherPrecKeys.push("rain");
      if (condition.includes("clear")) weatherPrecKeys.push("clear");
      if (condition.includes("snow")) weatherPrecKeys.push("snow");
      if (condition.includes("haze")) weatherPrecKeys.push("haze");

      // ЁЯНВ Seasonal Precaution keys (India cycle)
      if ([3, 4, 5].includes(month)) {
        seasonNameKey = "spring";
        seasonPrecKeys.push("spring1", "spring2");
      } else if ([6, 7, 8, 9].includes(month)) {
        seasonNameKey = "monsoon";
        seasonPrecKeys.push("monsoon1", "monsoon2");
      } else if ([10, 11].includes(month)) {
        seasonNameKey = "autumn";
        seasonPrecKeys.push("autumn1", "autumn2");
      } else {
        seasonNameKey = "winter";
        seasonPrecKeys.push("winter1", "winter2");
      }

      // тЬЕ Update Season Name
      document.getElementById("season").innerText = t[seasonNameKey];

      // тЬЕ Render precautions using keys
      const renderBadges = (elementId, keys, bgColor, textColor) => {
        const list = document.getElementById(elementId);
        list.innerHTML = "";
        keys.forEach(key => {
          const span = document.createElement("span");
          span.textContent = t[key]; // Get translated text
          span.className = `px-3 py-1 rounded-full text-sm font-medium ${bgColor} ${textColor} shadow`;
          list.appendChild(span);
        });
      };

      renderBadges("weather-list", weatherPrecKeys, "bg-blue-100", "text-blue-800");
      renderBadges("season-list", seasonPrecKeys, "bg-orange-100", "text-orange-800");
    }

    // Initial load
    window.onload = () => {
      changeLanguage('en'); // Load the page in English by default
    };
  </script>
  
</body>
</html>